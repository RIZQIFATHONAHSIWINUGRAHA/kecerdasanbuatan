<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jualin Garage - Ecommerce System</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: #f5f5f5;
      }

      /* Auth Pages Styles */
      .auth-container {
        display: flex;
        min-height: 100vh;
        background: #ff5733;
      }

      .auth-left {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 40px;
      }

      .logo-container {
        text-align: center;
      }

      .logo-text-top {
        color: white;
        font-size: 14px;
        letter-spacing: 3px;
        margin-bottom: 10px;
        font-weight: 600;
      }

      .logo-main {
        font-size: 72px;
        font-weight: 900;
        color: white;
        text-shadow: 3px 3px 0 #000;
        line-height: 1;
        font-style: italic;
      }

      .logo-garage {
        font-size: 56px;
        font-weight: 900;
        color: #ffd700;
        text-shadow: 3px 3px 0 #000;
        line-height: 1;
        font-style: italic;
        margin-top: -10px;
      }

      .auth-right {
        width: 420px;
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 40px;
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
      }

      .auth-form {
        width: 100%;
        max-width: 340px;
      }

      .back-button {
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        margin-bottom: 20px;
        color: #333;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-label {
        display: block;
        margin-bottom: 8px;
        color: #333;
        font-size: 14px;
        font-weight: 500;
      }

      .form-input {
        width: 100%;
        padding: 12px 15px;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 14px;
        transition: border-color 0.3s;
      }

      .form-input:focus {
        outline: none;
        border-color: #ff5733;
      }

      .form-input::placeholder {
        color: #999;
      }

      .radio-group {
        display: flex;
        gap: 20px;
        margin-top: 8px;
      }

      .radio-label {
        display: flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
        font-size: 14px;
      }

      .radio-label input[type="radio"] {
        width: 16px;
        height: 16px;
        cursor: pointer;
      }

      .btn-primary {
        width: 100%;
        padding: 14px;
        background: #000;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 15px;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.3s;
      }

      .btn-primary:hover {
        background: #333;
      }

      .form-links {
        display: flex;
        justify-content: space-between;
        margin-top: 15px;
        font-size: 13px;
      }

      .form-links a {
        color: #333;
        text-decoration: none;
        transition: color 0.3s;
      }

      .form-links a:hover {
        color: #ff5733;
      }

      .text-center {
        text-align: center;
      }

      /* Dashboard Styles */
      .dashboard {
        display: none;
        min-height: 100vh;
        background: #f5f5f5;
      }

      .dashboard-header {
        background: white;
        padding: 15px 30px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .dashboard-logo {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .dashboard-logo img {
        height: 50px;
      }

      .search-bar {
        flex: 1;
        max-width: 500px;
        margin: 0 30px;
      }

      .search-input {
        width: 100%;
        padding: 10px 15px;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 14px;
      }

      .dashboard-icons {
        display: flex;
        gap: 20px;
        align-items: center;
      }

      .icon-button {
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        position: relative;
      }

      .user-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #ff5733;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        cursor: pointer;
      }

      .dashboard-content {
        display: flex;
        padding: 20px;
        gap: 20px;
      }

      .sidebar {
        width: 280px;
        background: white;
        border-radius: 8px;
        padding: 20px;
        height: fit-content;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
      }

      .user-info {
        text-align: center;
        padding-bottom: 20px;
        border-bottom: 1px solid #eee;
        margin-bottom: 20px;
      }

      .user-name {
        font-weight: 600;
        font-size: 16px;
        margin-bottom: 5px;
      }

      .user-role {
        color: #666;
        font-size: 13px;
        text-transform: uppercase;
      }

      .region-section,
      .price-section,
      .condition-section {
        margin-bottom: 25px;
      }

      .section-title {
        font-weight: 600;
        margin-bottom: 12px;
        font-size: 14px;
      }

      .checkbox-item {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 8px;
        font-size: 14px;
      }

      .checkbox-item input[type="checkbox"] {
        width: 16px;
        height: 16px;
        cursor: pointer;
      }

      .price-inputs {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .price-input {
        padding: 8px 12px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 13px;
      }

      .products-grid {
        flex: 1;
      }

      .products-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
        gap: 20px;
      }

      .product-card {
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s, box-shadow 0.3s;
        cursor: pointer;
      }

      .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .product-image {
        width: 100%;
        height: 180px;
        object-fit: cover;
      }

      .product-info {
        padding: 15px;
      }

      .product-name {
        font-weight: 600;
        margin-bottom: 10px;
        font-size: 15px;
      }

      .product-actions {
        display: flex;
        gap: 10px;
        margin-top: 10px;
      }

      .btn-beli {
        flex: 1;
        padding: 8px;
        background: #4caf50;
        color: white;
        border: none;
        border-radius: 4px;
        font-size: 12px;
        font-weight: 600;
        cursor: pointer;
      }

      .btn-chat {
        flex: 1;
        padding: 8px;
        background: #666;
        color: white;
        border: none;
        border-radius: 4px;
        font-size: 12px;
        font-weight: 600;
        cursor: pointer;
      }

      .hidden {
        display: none;
      }

      .notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #4caf50;
        color: white;
        padding: 15px 25px;
        border-radius: 6px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        z-index: 1000;
        animation: slideIn 0.3s ease;
      }

      @keyframes slideIn {
        from {
          transform: translateX(400px);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      .error {
        background: #f44336;
      }

      .chat-button {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 60px;
        height: 60px;
        background: #000;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        border: none;
      }

      @media (max-width: 768px) {
        .auth-container {
          flex-direction: column;
        }

        .auth-right {
          width: 100%;
        }

        .dashboard-content {
          flex-direction: column;
        }

        .sidebar {
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <!-- LOGIN PAGE -->
    <div id="loginPage" class="auth-container">
      <div class="auth-left">
        <div class="logo-container">
          <div class="logo-text-top">ANDA JUAL SAYA BELUM TENTU BELI</div>
          <div class="logo-main">JUALIN</div>
          <div class="logo-garage">GARAGE</div>
        </div>
      </div>
      <div class="auth-right">
        <div class="auth-form">
          <form id="loginForm">
            <div class="form-group">
              <label class="form-label">Email</label>
              <input
                type="email"
                class="form-input"
                placeholder="Masukkan Email"
                required
              />
            </div>
            <div class="form-group">
              <label class="form-label">Password</label>
              <input
                type="password"
                class="form-input"
                placeholder="Masukkan Password"
                required
              />
            </div>
            <button type="submit" class="btn-primary">LOG IN</button>
            <div class="form-links">
              <a href="#" id="lupaPasswordLink">Lupa Password</a>
              <a href="#" id="buatAkunLink">Buat Akun</a>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- REGISTER PAGE -->
    <div id="registerPage" class="auth-container hidden">
      <div class="auth-left">
        <div class="logo-container">
          <div class="logo-text-top">ABDI JUAL SAYA BELUM TENTU BELI</div>
          <div class="logo-main">JUALIN</div>
          <div class="logo-garage">GARAGE</div>
        </div>
      </div>
      <div class="auth-right">
        <div class="auth-form">
          <button class="back-button" id="backFromRegister">‚Üê</button>
          <form id="registerForm">
            <div class="form-group">
              <label class="form-label">Email</label>
              <input
                type="email"
                class="form-input"
                placeholder="Masukkan Email"
                required
              />
            </div>
            <div class="form-group">
              <label class="form-label">Password</label>
              <input
                type="password"
                class="form-input"
                placeholder="Masukkan Password"
                required
              />
            </div>
            <div class="form-group">
              <label class="form-label">Konfirmasi Password</label>
              <input
                type="password"
                class="form-input"
                placeholder="Masukkan Password"
                required
              />
            </div>
            <div class="form-group">
              <label class="form-label">No Telp</label>
              <input
                type="tel"
                class="form-input"
                placeholder="Masukkan No Telp"
                required
              />
            </div>
            <div class="form-group">
              <label class="form-label">Akun Sebagai</label>
              <div class="radio-group">
                <label class="radio-label">
                  <input type="radio" name="role" value="seller" required />
                  <span>Seller</span>
                </label>
                <label class="radio-label">
                  <input type="radio" name="role" value="customer" required />
                  <span>Customer</span>
                </label>
              </div>
            </div>
            <button type="submit" class="btn-primary">Daftar</button>
            <div class="form-links text-center">
              <a href="#" id="loginLinkFromRegister">Log In</a>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- FORGOT PASSWORD PAGE -->
    <div id="forgotPage" class="auth-container hidden">
      <div class="auth-left">
        <div class="logo-container">
          <div class="logo-text-top">ABDI JUAL SAYA BELUM TENTU BELI</div>
          <div class="logo-main">JUALIN</div>
          <div class="logo-garage">GARAGE</div>
        </div>
      </div>
      <div class="auth-right">
        <div class="auth-form">
          <button class="back-button" id="backFromForgot">‚Üê</button>
          <form id="forgotForm">
            <div class="form-group">
              <label class="form-label">Email</label>
              <input
                type="email"
                class="form-input"
                placeholder="Masukkan Email"
                required
              />
            </div>
            <div class="form-group">
              <label class="form-label">No Telp</label>
              <input
                type="tel"
                class="form-input"
                placeholder="Masukkan No Telp"
                required
              />
            </div>
            <button type="submit" class="btn-primary">Kirim OTP</button>
            <div class="form-links text-center">
              <a href="#" id="loginLinkFromForgot">Log In</a>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- DASHBOARD PAGE -->
    <div id="dashboardPage" class="dashboard">
      <div class="dashboard-header">
        <div class="dashboard-logo">
          <div>
            <div
              style="
                font-size: 24px;
                font-weight: 900;
                font-style: italic;
                color: #000;
              "
            >
              JUALIN
            </div>
            <div
              style="
                font-size: 18px;
                font-weight: 900;
                font-style: italic;
                color: #ffd700;
                margin-top: -5px;
              "
            >
              GARAGE
            </div>
          </div>
        </div>
        <div class="search-bar">
          <input
            type="text"
            class="search-input"
            placeholder="Search"
            id="searchInput"
          />
        </div>
        <div class="dashboard-icons">
          <button class="icon-button">üõí</button>
          <button class="icon-button">üí¨</button>
          <button class="icon-button">‚úâÔ∏è</button>
          <div class="user-avatar" id="userAvatar">JG</div>
        </div>
      </div>

      <div class="dashboard-content">
        <div class="sidebar">
          <div class="user-info">
            <div class="user-name" id="userName">Jenis Toko</div>
            <div class="user-role" id="userRole">UMKM</div>
          </div>

          <div class="region-section">
            <div class="section-title">Wilayah</div>
            <label class="checkbox-item">
              <input
                type="checkbox"
                class="filter-region"
                value="bandarlampung"
              />
              <span>Bandar Lampung</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" class="filter-region" value="ibukota" />
              <span>Ibu Kota Negara</span>
            </label>
            <label class="checkbox-item">
              <input
                type="checkbox"
                class="filter-region"
                value="luar negeri"
              />
              <span>Luwr Negeri</span>
            </label>
          </div>

          <div class="price-section">
            <div class="section-title">Harga Minimum</div>
            <input
              type="number"
              class="price-input"
              id="minPrice"
              placeholder="Rp"
            />
            <div class="section-title" style="margin-top: 15px">
              Harga Maksimum
            </div>
            <input
              type="number"
              class="price-input"
              id="maxPrice"
              placeholder="Rp"
            />
          </div>

          <div class="condition-section">
            <div class="section-title">Kondisi</div>
            <label class="checkbox-item">
              <input type="checkbox" class="filter-condition" value="baru" />
              <span>Baru</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" class="filter-condition" value="bekas" />
              <span>Bekas</span>
            </label>
          </div>
        </div>

        <div class="products-grid">
          <div class="products-container" id="productsContainer">
            <!-- Products will be loaded here dynamically -->
          </div>
        </div>
      </div>

      <button class="chat-button">üí¨</button>
    </div>

    <script>
      // Backend Simulation - In-Memory Database
      const database = {
        users: [
          {
            id: 1,
            email: "admin@jualingarage.com",
            password: "admin123",
            phone: "081234567890",
            role: "seller",
            name: "Admin Jualin",
          },
          {
            id: 2,
            email: "customer@jualingarage.com",
            password: "customer123",
            phone: "081234567891",
            role: "customer",
            name: "Customer Demo",
          },
          {
            id: 3,
            email: "seller@jualingarage.com",
            password: "seller123",
            phone: "081234567892",
            role: "seller",
            name: "Seller Demo",
          },
        ],
        products: [
          {
            id: 1,
            name: "Tank-Top",
            image:
              "https://images.unsplash.com/photo-1579154204845-c671a1973007?w=400",
            category: "military",
            region: "bandarlampung",
            price: 5000000,
          },
          {
            id: 2,
            name: "Kapal Selam Ex Russia",
            image:
              "https://images.unsplash.com/photo-1542296332-2e4473faf563?w=400",
            category: "military",
            region: "ibukota",
            price: 15000000,
          },
          {
            id: 3,
            name: "Jet Ex Ukraina",
            image:
              "https://images.unsplash.com/photo-1583792071929-28e9ee6d4c46?w=400",
            category: "military",
            region: "luwrnegeri",
            price: 25000000,
          },
          {
            id: 4,
            name: "Angkot Roma",
            image:
              "https://images.unsplash.com/photo-1580273916550-e323be2ae537?w=400",
            category: "vehicle",
            region: "bandarlampung",
            price: 350000,
          },
          {
            id: 5,
            name: "Revo 1000cc",
            image:
              "https://images.unsplash.com/photo-1558981806-ec527fa84c39?w=400",
            category: "vehicle",
            region: "ibukota",
            price: 85000,
          },
          {
            id: 6,
            name: "Pesawat Terbang",
            image:
              "https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=400",
            category: "military",
            region: "luwrnegeri",
            price: 45000000,
          },
          {
            id: 7,
            name: "Toyota Duarrr",
            image:
              "https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=400",
            category: "vehicle",
            region: "bandarlampung",
            price: 450000,
          },
          {
            id: 8,
            name: "Losbak L300",
            image:
              "https://images.unsplash.com/photo-1519003722824-194d4455a60c?w=400",
            category: "vehicle",
            region: "ibukota",
            price: 125000,
          },
          {
            id: 9,
            name: "Grand Maxxxx",
            image:
              "https://images.unsplash.com/photo-1586190848861-99aa4a171e90?w=400",
            category: "vehicle",
            region: "luwrnegeri",
            price: 275000,
          },
        ],
        currentUser: null,
      };

      // Page Navigation Functions
      function showPage(pageId) {
        const pages = [
          "loginPage",
          "registerPage",
          "forgotPage",
          "dashboardPage",
        ];
        pages.forEach((page) => {
          document.getElementById(page).classList.add("hidden");
          if (page === "dashboardPage") {
            document.getElementById(page).style.display = "none";
          }
        });

        if (pageId === "dashboardPage") {
          document.getElementById(pageId).style.display = "block";
        } else {
          document.getElementById(pageId).classList.remove("hidden");
        }
      }

      // Notification Function
      function showNotification(message, isError = false) {
        const notification = document.createElement("div");
        notification.className = `notification ${isError ? "error" : ""}`;
        notification.textContent = message;
        document.body.appendChild(notification);

        setTimeout(() => {
          notification.remove();
        }, 3000);
      }

      // Login Form Handler
      document
        .getElementById("loginForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          const email = this.querySelector('input[type="email"]').value;
          const password = this.querySelector('input[type="password"]').value;

          const user = database.users.find(
            (u) => u.email === email && u.password === password
          );

          if (user) {
            database.currentUser = user;
            showNotification("Login berhasil!");
            loadDashboard();
            showPage("dashboardPage");
          } else {
            showNotification("Email atau password salah!", true);
          }
        });

      // Register Form Handler
      document
        .getElementById("registerForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          const email = this.querySelector('input[type="email"]').value;
          const password = this.querySelectorAll('input[type="password"]')[0]
            .value;
          const confirmPassword = this.querySelectorAll(
            'input[type="password"]'
          )[1].value;
          const phone = this.querySelector('input[type="tel"]').value;
          const role = this.querySelector('input[name="role"]:checked').value;

          if (password !== confirmPassword) {
            showNotification("Password tidak cocok!", true);
            return;
          }

          if (database.users.find((u) => u.email === email)) {
            showNotification("Email sudah terdaftar!", true);
            return;
          }

          const newUser = {
            id: Date.now(),
            email,
            password,
            phone,
            role,
            name: email.split("@")[0],
          };

          database.users.push(newUser);
          showNotification("Registrasi berhasil! Silakan login.");
          showPage("loginPage");
        });

      // Forgot Password Form Handler
      document
        .getElementById("forgotForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          const email = this.querySelector('input[type="email"]').value;
          const phone = this.querySelector('input[type="tel"]').value;

          const user = database.users.find(
            (u) => u.email === email && u.phone === phone
          );

          if (user) {
            showNotification("OTP telah dikirim ke email Anda!");
            setTimeout(() => showPage("loginPage"), 2000);
          } else {
            showNotification("Email atau nomor telepon tidak ditemukan!", true);
          }
        });

      // Navigation Links
      document.getElementById("buatAkunLink").addEventListener("click", (e) => {
        e.preventDefault();
        showPage("registerPage");
      });

      document
        .getElementById("lupaPasswordLink")
        .addEventListener("click", (e) => {
          e.preventDefault();
          showPage("forgotPage");
        });

      document
        .getElementById("backFromRegister")
        .addEventListener("click", () => showPage("loginPage"));
      document
        .getElementById("backFromForgot")
        .addEventListener("click", () => showPage("loginPage"));
      document
        .getElementById("loginLinkFromRegister")
        .addEventListener("click", (e) => {
          e.preventDefault();
          showPage("loginPage");
        });
      document
        .getElementById("loginLinkFromForgot")
        .addEventListener("click", (e) => {
          e.preventDefault();
          showPage("loginPage");
        });

      // Dashboard Functions
      function loadDashboard() {
        if (database.currentUser) {
          document.getElementById("userName").textContent =
            database.currentUser.name;
          document.getElementById("userRole").textContent =
            database.currentUser.role.toUpperCase();
          document.getElementById("userAvatar").textContent =
            database.currentUser.name.substring(0, 2).toUpperCase();
        }
        renderProducts(database.products);
      }

      function renderProducts(products) {
        const container = document.getElementById("productsContainer");
        container.innerHTML = "";

        products.forEach((product) => {
          const card = document.createElement("div");
          card.className = "product-card";
          card.innerHTML = `
                    <img src="${product.image}" alt="${product.name}" class="product-image">
                    <div class="product-info">
                        <div class="product-name">${product.name}</div>
                        <div class="product-actions">
                            <button class="btn-beli" onclick="buyProduct(${product.id})">Beli</button>
                            <button class="btn-chat" onclick="chatProduct(${product.id})">Chat</button>
                        </div>
                    </div>
                `;
          container.appendChild(card);
        });
      }

      function buyProduct(id) {
        const product = database.products.find((p) => p.id === id);
        showNotification(`Berhasil membeli ${product.name}!`);
      }

      function chatProduct(id) {
        const product = database.products.find((p) => p.id === id);
        showNotification(`Membuka chat untuk ${product.name}...`);
      }

      // Filter Functions
      function applyFilters() {
        let filtered = [...database.products];

        // Region filter
        const selectedRegions = Array.from(
          document.querySelectorAll(".filter-region:checked")
        ).map((cb) => cb.value);
        if (selectedRegions.length > 0) {
          filtered = filtered.filter((p) => selectedRegions.includes(p.region));
        }

        // Price filter
        const minPrice =
          parseInt(document.getElementById("minPrice").value) || 0;
        const maxPrice =
          parseInt(document.getElementById("maxPrice").value) || Infinity;
        filtered = filtered.filter(
          (p) => p.price >= minPrice && p.price <= maxPrice
        );

        renderProducts(filtered);
      }

      // Search Function
      document
        .getElementById("searchInput")
        .addEventListener("input", function (e) {
          const searchTerm = e.target.value.toLowerCase();
          const filtered = database.products.filter((p) =>
            p.name.toLowerCase().includes(searchTerm)
          );
          renderProducts(filtered);
        });

      // Add event listeners to filters
      document
        .querySelectorAll(".filter-region, .filter-condition")
        .forEach((cb) => {
          cb.addEventListener("change", applyFilters);
        });

      document
        .getElementById("minPrice")
        .addEventListener("input", applyFilters);
      document
        .getElementById("maxPrice")
        .addEventListener("input", applyFilters);

      // User Avatar Click (Logout)
      document
        .getElementById("userAvatar")
        .addEventListener("click", function () {
          if (confirm("Apakah Anda ingin logout?")) {
            database.currentUser = null;
            showNotification("Logout berhasil!");
            showPage("loginPage");
          }
        });

      // Initialize - Show Login Page
      showPage("loginPage");
    </script>
  </body>
</html>
